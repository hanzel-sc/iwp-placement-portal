<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Job Posting - Christ University Placement Portal</title>
    <link rel="stylesheet" href="/frontend/css/company-styles.css">
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo">
                <img src="https://christuniversity.in/images/logo.png" alt="Christ University">
                <div class="logo-text">Placement Portal</div>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="company-dashboard.html">Dashboard</a></li>
                    <li><a href="company-profile.html">Profile</a></li>
                    <li><a href="create-job.html">Post Job</a></li>
                    <li><a href="view-applications.html">Applications</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <div class="user-info">
                    <span id="companyName">Loading...</span>
                </div>
                <button class="logout-btn" onclick="logout()">Logout</button>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="card">
            <div class="card-header">
                <h1 class="card-title">Create Job Posting</h1>
                <p class="card-subtitle">Post a new job opportunity for Christ University students</p>
            </div>

            <div id="alertContainer"></div>

            <form id="jobForm">
                <div class="form-group">
                    <label class="form-label" for="jobTitle">Job Title *</label>
                    <input type="text" id="jobTitle" name="jobTitle" class="form-input" required 
                           placeholder="e.g., Software Engineer, Marketing Intern">
                </div>

                <div class="form-group">
                    <label class="form-label" for="department">Department *</label>
                    <input type="text" id="department" name="department" class="form-input" required 
                           placeholder="e.g., Engineering, Marketing, HR">
                </div>

                <div class="form-group">
                    <label class="form-label" for="jobType">Job Type *</label>
                    <select id="jobType" name="jobType" class="form-input" required>
                        <option value="">Select job type</option>
                        <option value="Full-time">Full-time</option>
                        <option value="Part-time">Part-time</option>
                        <option value="Internship">Internship</option>
                        <option value="Contract">Contract</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="location">Job Location *</label>
                    <input type="text" id="jobLocation" name="location" class="form-input" required 
                           placeholder="e.g., Bangalore, Remote, Hybrid">
                </div>

                <div class="form-group">
                    <label class="form-label" for="experience">Experience Required</label>
                    <select id="experience" name="experience" class="form-input">
                        <option value="">Select experience level</option>
                        <option value="Fresher">Fresher (0 years)</option>
                        <option value="1-2 years">1-2 years</option>
                        <option value="2-5 years">2-5 years</option>
                        <option value="5+ years">5+ years</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label" for="salary">Salary Range</label>
                    <input type="text" id="salary" name="salary" class="form-input" 
                           placeholder="e.g., 3-5 LPA, 15000-25000 per month">
                </div>

                <div class="form-group">
                    <label class="form-label" for="skills">Required Skills *</label>
                    <textarea id="skills" name="skills" class="form-input" required
                              placeholder="List the key skills required for this position..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label" for="jobDescription">Job Description *</label>
                    <textarea id="jobDescription" name="jobDescription" class="form-input form-textarea" required
                              placeholder="Provide detailed job description, responsibilities, and requirements..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label" for="eligibility">Eligibility Criteria</label>
                    <textarea id="eligibility" name="eligibility" class="form-input"
                              placeholder="Educational qualifications, CGPA requirements, etc..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label" for="applicationDeadline">Application Deadline *</label>
                    <input type="date" id="applicationDeadline" name="applicationDeadline" class="form-input" required>
                </div>

                <button type="submit" class="btn btn-primary">
                    <span class="btn-text">Post Job</span>
                    <div class="loading" style="display: none;"></div>
                </button>
            </form>
        </div>
    </main>

    <script src="../js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadCompanyProfile();
            
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('applicationDeadline').min = today;
            
            document.getElementById('jobForm').addEventListener('submit', createJob);
        });
    </script>
</body>
</html>
